# MyMusic 完整设置指南

## 🎵 项目概述

MyMusic 是一个功能完整的本地音乐播放器，基于 Electron 构建，具有现代化的用户界面和丰富的功能。

### 已实现的功能模块

✅ **用户界面模块**
- 简洁美观的界面设计
- 播放列表、歌曲库、搜索栏
- 播放器控制按钮（播放、暂停、上一曲、下一曲、音量调节）
- 响应式布局设计

✅ **音乐库管理模块**
- 支持导入本地音乐文件和文件夹
- 支持多种音频格式（MP3, WAV, FLAC, AAC, M4A, OGG, WMA）
- 按艺术家、专辑、流派自动分类
- 标签管理（歌手、专辑、年份等）

✅ **播放列表管理模块**
- 创建、编辑、删除播放列表
- 随机播放、循环播放模式
- 播放队列管理

✅ **歌词显示模块**
- 支持 LRC 格式歌词
- 同步高亮显示
- 点击歌词跳转播放位置

✅ **用户收藏功能**
- 收藏歌曲和艺术家
- 收藏列表管理

✅ **音效设置模块**
- 多种音效预设（普通、流行、摇滚、古典、爵士、电子）
- 均衡器面板

✅ **系统设置模块**
- 音量设置、主题切换
- 播放设置（自动播放下一首、淡入淡出效果）
- 数据导入导出功能

## 🚀 快速开始

### 第一步：安装 Node.js

1. 访问 [Node.js 官网](https://nodejs.org/)
2. 下载 LTS 版本（推荐 v16 或更高）
3. 按照安装向导完成安装
4. 验证安装：打开终端运行 `node --version`

### 第二步：安装依赖

```bash
# 进入项目目录
cd /Users/ividernvi/Repository/com/github/mymusic

# 安装依赖
npm install

# 或者使用提供的启动脚本（会自动安装依赖）
./start.sh     # macOS/Linux
# 或
start.bat      # Windows
```

### 第三步：启动应用

```bash
# 开发模式（带开发工具）
npm run dev

# 或正常启动
npm start
```

## 📁 项目结构说明

```
mymusic/
├── main.js                 # Electron 主进程，处理窗口创建和文件操作
├── preload.js             # 安全的渲染进程与主进程通信桥梁
├── index.html             # 应用主界面
├── package.json           # 项目配置和依赖管理
├── src/
│   ├── css/
│   │   ├── main.css       # 基础样式和布局
│   │   ├── components.css # 播放器、面板等组件样式
│   │   └── themes.css     # 主题系统和配色方案
│   └── js/
│       ├── utils.js       # 通用工具函数（时间格式化、搜索等）
│       ├── storage.js     # 本地数据存储管理
│       ├── musicLibrary.js # 音乐库导入、分类、管理
│       ├── player.js      # 音频播放控制和状态管理
│       ├── playlist.js    # 播放列表创建和管理
│       ├── ui.js          # 用户界面交互和主题切换
│       └── main.js        # 应用程序初始化和模块协调
├── assets/
│   └── icons/             # 应用图标（待添加）
├── README.md              # 项目文档
├── start.sh               # macOS/Linux 启动脚本
└── start.bat              # Windows 启动脚本
```

## 🎮 使用说明

### 导入音乐
1. 点击顶部的"导入文件"按钮选择音乐文件
2. 或点击"导入文件夹"扫描整个文件夹
3. 支持的格式：MP3, WAV, FLAC, AAC, M4A, OGG, WMA

### 播放控制
- **空格键**：播放/暂停
- **←→ 箭头键**：上一曲/下一曲
- **↑↓ 箭头键**：音量调节
- **M 键**：静音切换
- **F 键**：收藏当前歌曲
- **S 键**：随机播放切换
- **R 键**：循环模式切换
- **L 键**：显示/隐藏歌词面板

### 播放列表管理
1. 左侧边栏点击"创建播放列表"
2. 右键点击歌曲选择"添加到播放列表"
3. 双击播放列表开始播放

### 主题和设置
- 点击右上角设置按钮打开设置面板
- 支持深色/浅色主题切换
- 可调整自动播放、淡入淡出等选项

## 🔧 技术特性

### 核心技术栈
- **Electron**: 跨平台桌面应用框架
- **HTML5 Audio API**: 音频播放控制
- **Web Audio API**: 音频分析和可视化
- **localStorage**: 本地数据持久化
- **CSS Grid/Flexbox**: 现代布局技术

### 架构设计
- **模块化架构**: 每个功能独立模块，便于维护和扩展
- **事件驱动**: 基于事件的组件通信
- **数据持久化**: 完整的本地存储方案
- **安全设计**: 使用 contextIsolation 和 preload 脚本

### 性能优化
- **懒加载**: 大型音乐库的分批加载
- **防抖节流**: 搜索和滚动优化
- **内存管理**: 音频资源的合理释放
- **文件验证**: 定期检查文件完整性

## 🎨 界面预览

应用界面包含：
- **左侧导航栏**: 音乐库、艺术家、专辑、流派、收藏、播放列表
- **主内容区**: 歌曲列表、网格视图、搜索结果
- **底部播放栏**: 当前播放信息、控制按钮、进度条、音量控制
- **右侧面板**: 歌词显示、均衡器设置、应用设置

## 🛠️ 开发和扩展

### 添加新的音频格式支持
1. 在 `utils.js` 的 `isAudioFile` 函数中添加新扩展名
2. 测试 HTML5 Audio 对该格式的支持

### 自定义主题
1. 在 `themes.css` 中定义新的 CSS 自定义属性
2. 创建新的主题类（如 `.theme-custom`）
3. 在设置面板添加新主题选项

### 扩展功能模块
1. 在 `src/js/` 目录创建新的模块文件
2. 在 `main.js` 中初始化新模块
3. 在 `index.html` 中引入相关脚本

## 📦 构建和分发

```bash
# 安装构建依赖
npm install electron-builder --save-dev

# 构建应用
npm run build

# 打包为安装程序
npm run dist
```

## 🔍 故障排除

### 常见问题
1. **应用无法启动**: 检查 Node.js 和 Electron 版本
2. **音乐无法播放**: 验证文件格式和路径
3. **界面显示异常**: 清除应用数据重新启动

### 调试工具
- 开发模式下按 F12 打开开发者工具
- 使用 `window.devHelpers` 访问调试功能
- 查看控制台输出了解错误信息

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

### 开发环境设置
1. Fork 项目仓库
2. 创建功能分支：`git checkout -b feature/new-feature`
3. 提交更改：`git commit -m 'Add new feature'`
4. 推送分支：`git push origin feature/new-feature`
5. 创建 Pull Request

## 📄 许可证

MIT License - 详见 LICENSE 文件

---

**MyMusic** - 专业的本地音乐播放器，让音乐聆听更加优雅 🎵

如有问题，请创建 Issue 或联系开发团队。